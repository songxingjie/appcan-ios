webpackJsonp([24],{D5bN:function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,"\n.myApp {\n  background-color: #ffffff;\n}\n.appName {\n  text-align: center;\n  margin-top: 0.625rem;\n  color: #49505f;\n  font-size: 0.875rem;\n  height: 1rem;\n}\n.myIcon {\n  color: #308cf5;\n}\n.weui-grid:after {\n  border-bottom: none !important;\n}\n.noDataBox {\n  text-align: center;\n  padding-top: 1rem;\n}\n/* .vux-swiper {\n  height: -webkit-fill-available!important;\n} */\n",""])},Hxbj:function(t,a,e){var n=e("D5bN");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("5a7a22f4",n,!0,{})},nnDS:function(t,a,e){"use strict";function n(t){e("Hxbj")}Object.defineProperty(a,"__esModule",{value:!0});var o=e("fBcm"),i=e("b+jt"),s=e("NYxO"),r=e("g5qz"),p=e("f1Vj"),c=e.n(p),l=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},d=(o.a,i.a,l({},Object(s.b)(["device"])),Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}),u={components:{Swiper:o.a,SwiperItem:i.a},data:function(){return{bannerList:[],demo01_index:0,myAppList:[],toolApp:[]}},computed:d({},Object(s.b)(["device"])),methods:{demo01_onIndexChange:function(t){this.demo01_index=t},goStore:function(){this.$router.push({path:"/store"})},getMyApp:function(){var t=this;t.$vux.loading.show({text:"Loading"}),r.a.installAppLlist().then(function(a){t.$vux.loading.hide();var e=JSON.parse(c.a.val("myAppList")),n=[];for(var o in e)for(var i in a.data)a.data[i].appId===e[o].appId&&n.push(a.data[i]);for(var s in a.data){t.arrayContain(n,a.data[s].appId)||n.push(a.data[s])}t.myAppList=t.setPage(n)}).catch(function(a){t.$vux.loading.hide(),console.log(a)})},arrayContain:function(t,a){for(var e=0;e<t.length;e++)if(t[e].appId===a)return!0;return!1},getTypeList:function(){var t=this;r.a.getTypeList().then(function(a){t.appTypeList=a.data.appTypeList;for(var e in a.data.appTypeList)if("工具箱"===a.data.appTypeList[e].name){var n=a.data.appTypeList[e].id;t.getToolApp(n);break}}).catch(function(t){console.log(t),r.a.errFn(1)})},getToolApp:function(t){var a=this,e=JSON.parse(c.a.val("emmToken")),n=e.info.accessToken,o=c.a.val("softToken"),i='{"appType":"'+t+'","pageNo":"1","pageSize":"200","softToken":"'+o+'","accessToken": "'+n+'"}';r.a.searchAppList(i).then(function(t){a.toolApp=a.setPage(t.data)}).catch(function(t){alert(t)})},setPage:function(t){var a=[],e=[],n=t.length-1;for(var o in t)o=parseInt(o),o%8==0&&0!==o?(a.push(e),e=[],e.push(t[o])):e.push(t[o]),o===n&&a.push(e);return a},getBanner:function(){var t=this;t.$vux.loading.show({text:"Loading"}),r.a.bannerList().then(function(a){t.$vux.loading.hide();var e=[];for(var n in a.advList){var o={url:a.advList[n].imageAdsLink,img:a.advList[n].imageUrl?a.advList[n].imageUrl:""};e.push(o)}t.bannerList=e}).catch(function(a){t.$vux.loading.hide(),console.log(a)})},gomyAppList:function(t){var a=this;for(var e in a.myAppList)for(var n in a.myAppList[e])a.myAppList[e][n].appId===t&&a.startWgt(a.myAppList[e][n])},goToolList:function(t){var a=this;for(var e in a.toolApp)for(var n in a.toolApp[e])if(a.toolApp[e][n].appId===t)return void a.startWgt(a.toolApp[e][n])},startWgt:function(t){var a=this,e=t.appCategoryName?t.appCategoryName:t.appCategory;if(r.a.isDefine(t.serviceStatus)&&2!==t.serviceStatus){this.$vux.alert.show({title:"提示",content:"您已经没有该权限，请查看您的服务状况，如有疑问请联系客服",onShow:function(){console.log("Plugin: I'm showing")},onHide:function(){console.log("Plugin: I'm hiding now")}})}else if("Web"===e||"openWEB"===e){var n={name:t.name,url:t.pkgUrl,extraInfo:{opaque:"true",bgColor:"#ecf3f7",delayTime:"250"}};c.a.val("CARD_PARAM",JSON.stringify(n)),a.$router.push({path:"/webPage"})}else a.downloadApp(t)},downloadApp:function(t){var a=this,e=JSON.parse(c.a.val("emmToken")),n=e.info.accessToken,o=e.info.username,i='{ "accessToken": '+n+',"username": '+o+" }";uexAppStoreMgr.cbLoadWidget=function(t,e,n){if(a.percents=-1,n=JSON.parse(n),"0"===n.status)a.$vux.toast.show({text:n.info}),uexToast.close();else if("1"===n.status){if(1===a.opening)return!1;a.$vux.loading.show({text:"正在打开..."}),a.opening=1,uexWidget.cbStartWidget=function(t,e,n){a.opening=0,a.$vux.loading.hide()},uexWidget.startWidget(n.data.appId,"10","",i,"250",n.data.appKey)}else"2"===n.status?(uexToast.close(),a.opening=0,uexWidget.cbStartWidget=function(t,e,n){a.opening=0,a.$vux.loading.hide()},uexWidget.startWidget(n.data.appId,"10","",i,"250",n.data.appKey)):"4"===n.status&&(uexToast.close(),a.$vux.toast.show({position:"middle",text:"应用下载成功但未安装",type:"warn"}))},uexAppStoreMgr.loadWidget(JSON.stringify(t))}},created:function(){uexAppStoreMgr.open("https://124.205.232.164:9443/v4/"),this.getBanner(),this.getMyApp(),this.getTypeList()}},g=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticStyle:{height:"100%"}},[n("view-box",{ref:"viewBox",attrs:{"body-padding-top":"46px","body-padding-bottom":"0"}},[n("x-header",{staticClass:"allHeader",attrs:{slot:"header","left-options":{showBack:!1}},slot:"header"},[t._v("工作台"),n("img",{staticStyle:{display:"block"},attrs:{slot:"left",width:"30",src:e("YDGL")},slot:"left"}),n("a",{staticClass:"ub icon iconfont icon-color",staticStyle:{"font-size":"1.5rem"},attrs:{slot:"right"},on:{click:t.goStore},slot:"right"},[t._v("")])]),t._v(" "),n("swiper",{attrs:{list:t.bannerList},on:{"on-index-change":t.demo01_onIndexChange},model:{value:t.demo01_index,callback:function(a){t.demo01_index=a},expression:"demo01_index"}}),t._v(" "),n("div",{staticClass:"myApp"},[n("div",{staticClass:"plr30 ptb30"},[n("i",{staticClass:"icon iconfont myIcon",attrs:{slot:"icon"},slot:"icon"},[t._v("")]),t._v(" "),n("span",{staticClass:"myAppword"},[t._v("我的应用")])]),t._v(" "),0===t.myAppList.length?n("div",{staticClass:"noDataBox",staticStyle:{height:"10rem"}},[n("img",{staticClass:"noAppImg",attrs:{src:e("yPOn"),alt:""}}),t._v(" "),n("p",{staticClass:"ulev-2"},[t._v("暂无应用")])]):n("div",[n("swiper",{attrs:{auto:!1,height:"12rem"}},t._l(t.myAppList,function(a,e){return n("swiper-item",{key:e,staticClass:"black"},[n("grid",{attrs:{cols:4,"show-lr-borders":!1,"show-vertical-dividers":!1}},t._l(a,function(a,e){return n("grid-item",{key:e,on:{"on-item-click":function(e){t.gomyAppList(a.appId)}}},[n("img",{attrs:{slot:"icon",src:a.iconLoc},slot:"icon"}),t._v(" "),n("p",{staticClass:"appName tof breakword"},[t._v(t._s(a.name))])])}))],1)}))],1)]),t._v(" "),n("div",{staticClass:"myApp"},[n("div",{staticClass:"plr30 ptb30"},[n("i",{staticClass:"icon iconfont myIcon",attrs:{slot:"icon"},slot:"icon"},[t._v("")]),t._v(" "),n("span",{staticClass:"myAppword"},[t._v("工具箱")])]),t._v(" "),0===t.toolApp.length?n("div",{staticClass:"noDataBox"},[n("img",{staticClass:"noAppImg",attrs:{src:e("yPOn"),alt:""}}),t._v(" "),n("p",{staticClass:"ulev-2"},[t._v("暂无应用")])]):n("div",[n("swiper",{attrs:{auto:!1,height:"12rem"}},t._l(t.toolApp,function(a,e){return n("swiper-item",{key:e,staticClass:"black"},[n("grid",{attrs:{cols:4,"show-lr-borders":!1,"show-vertical-dividers":!1}},t._l(a,function(a,e){return n("grid-item",{key:e,on:{"on-item-click":function(e){t.goToolList(a.appId)}}},[n("img",{attrs:{slot:"icon",src:a.iconLoc},slot:"icon"}),t._v(" "),n("p",{staticClass:"appName  tof breakword"},[t._v(t._s(a.name))])])}))],1)}))],1)])],1)],1)},f=[],v={render:g,staticRenderFns:f},h=v,m=e("VU/8"),y=n,x=m(u,h,!1,y,null,null);a.default=x.exports}});